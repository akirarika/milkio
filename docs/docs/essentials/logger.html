<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Logger | Milkio Docs</title>
    <meta name="description" content="A human-centered Bun framework, developing APIs is now easy enough!">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/milkio/assets/style.GR-lnwpN.css" as="style">
    
    <script type="module" src="/milkio/assets/app.BaRIK2wd.js"></script>
    <link rel="preload" href="/milkio/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/milkio/assets/chunks/framework.B_Y9JRDA.js">
    <link rel="modulepreload" href="/milkio/assets/chunks/theme.kr4yAtXS.js">
    <link rel="modulepreload" href="/milkio/assets/docs_essentials_logger.md.CT8ezQ3D.lean.js">
    <script>(function(e,i,t,r,m,n,s){e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},n=i.createElement(r),n.async=1,n.src="https://www.clarity.ms/tag/"+m,s=i.getElementsByTagName(r)[0],s.parentNode.insertBefore(n,s)})(window,document,"clarity","script","lpkggmj4ib");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-844edcde><div class="wrapper" data-v-844edcde><div class="container" data-v-844edcde><div class="title" data-v-844edcde><div class="VPNavBarTitle has-sidebar" data-v-844edcde data-v-0ad69264><a class="title" href="/milkio/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>Milkio Docs</span><!--[--><!--]--></a></div></div><div class="content" data-v-844edcde><div class="content-body" data-v-844edcde><!--[--><!--]--><div class="VPNavBarSearch search" data-v-844edcde><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-844edcde data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/milkio/SUPPORT.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>
          <span class="lang-en">Sponsors</span>
          <span class="lang-zh">æ”¯æŒè€…ä»¬</span>
        </span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-844edcde data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-844edcde data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/southern-aurora/milkio" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-844edcde data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><div class="group" data-v-8e87c032><div class="item social-links" data-v-8e87c032><div class="VPSocialLinks social-links-list" data-v-8e87c032 data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/southern-aurora/milkio" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-844edcde data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-844edcde><div class="divider-line" data-v-844edcde></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-0b5c97a1><button data-v-0b5c97a1>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-4871f9f5><div class="curtain" data-v-4871f9f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4871f9f5><span class="visually-hidden" id="sidebar-aria-label" data-v-4871f9f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><!----><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
          <span class="lang-en">Introduction</span>
          <span class="lang-zh">ç®€ä»‹</span>
        </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/quick-start.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
          <span class="lang-en">Quick Start</span>
          <span class="lang-zh">å¿«é€Ÿå¼€å§‹</span>
        </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/generation-phase.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
          <span class="lang-en">GenerationPhase</span>
          <span class="lang-zh">ç”Ÿæˆé˜¶æ®µ</span>
        </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 has-active" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>
          <span class="lang-en">Essentials</span>
          <span class="lang-zh">åŸºç¡€åŠŸèƒ½</span>
        </h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/api.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">API</span>
              <span class="lang-zh">API æ¥å£</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/api-test.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">APITest</span>
              <span class="lang-zh">APITest æ¥å£æµ‹è¯•</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/router.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Router</span>
              <span class="lang-zh">Router è·¯ç”±</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/header.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Header</span>
              <span class="lang-zh">Header å¤´éƒ¨</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/fail-handling.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">FailureHandling</span>
              <span class="lang-zh">FailureHandling å¤±è´¥å¤„ç†</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/use.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Use</span>
              <span class="lang-zh">Use ä½¿ç”¨</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/bootstrap.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Bootstrap</span>
              <span class="lang-zh">Bootstrap å¯åŠ¨é¡¹</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/middleware.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Middleware</span>
              <span class="lang-zh">Middleware ä¸­é—´ä»¶</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/meta.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Meta</span>
              <span class="lang-zh">Meta å…ƒæ•°æ®</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/config.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Config</span>
              <span class="lang-zh">Config é…ç½®</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/essentials/logger.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Logger</span>
              <span class="lang-zh">Logger æ—¥å¿—</span>
            </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>
          <span class="lang-en">Client</span>
          <span class="lang-zh">å®¢æˆ·ç«¯</span>
        </h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/client/get-started.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
            <span class="lang-en">GetStarted</span>
            <span class="lang-zh">èµ·æ­¥</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/client/middleware.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Middleware</span>
              <span class="lang-zh">Middleware ä¸­é—´ä»¶</span>
            </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/client/publish-client.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">PublishClient</span>
              <span class="lang-zh">å‘å¸ƒå®¢æˆ·ç«¯</span>
            </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>Cookbook</h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/cookbook/get-started.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
            <span class="lang-en">GetStarted</span>
            <span class="lang-zh">èµ·æ­¥</span>
            </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>
          <span class="lang-en">Extensions</span>
          <span class="lang-zh">æ‰©å±•</span>
        </h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/extensions/drizzle.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Drizzle</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/extensions/redis.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Redis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/extensions/tson.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">TSON</span>
              <span class="lang-zh">TSON</span>
            </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>VSCodeExtension</h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/docs/quick-start.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
            <span class="lang-en">Template</span>
            <span class="lang-zh">Template æ¨¡æ¿</span>
            </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>
          <span class="lang-en">Document</span>
          <span class="lang-zh">æ–‡æ¡£</span>
        </h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/milkio/README.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>
              <span class="lang-en">Contribution</span>
              <span class="lang-zh">è´¡çŒ®</span>
            </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><!----><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--[--><!--[--><div class="doc-before-container"><!----></div><!--]--><!--]--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _milkio_docs_essentials_logger" data-v-e6f2a212><div><div class="enable-i18n"><!--[--><h1 id="logger" tabindex="-1">Logger <a class="header-anchor" href="#logger" aria-label="Permalink to &quot;Logger&quot;">â€‹</a></h1><h1 id="logger-1" tabindex="-1">Logger <a class="header-anchor" href="#logger-1" aria-label="Permalink to &quot;Logger&quot;">â€‹</a></h1><p>æ—¥å¿—åœ¨åº”ç”¨çº¿ä¸Šé—®é¢˜æ’æŸ¥ä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>console</code> æ‰“å°æ—¥å¿—ï¼Œä½†æˆ‘ä»¬çš„æ—¥å¿—éœ€æ±‚å¯èƒ½æ›´åŠ å¤šæ ·åŒ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å°†æ—¥å¿—ä¸åªæ˜¯æ‰“å°åœ¨æ§åˆ¶å°ä¸­ï¼Œè€Œæ˜¯å¯ä»¥è®°å½•ä¸ºæ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨ä¸“é—¨çš„æ—¥å¿—å¹³å°ã€‚ä»¥åŠï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸åŒè¯·æ±‚é—´æ‰“å°çš„æ—¥å¿—ä½œåŒºåˆ†æ¥æ–¹ä¾¿æˆ‘ä»¬æ’é”™ï¼Œå°¤å…¶æ˜¯åœ¨åŒæ—¶è®¿é—®äººæ•°å¾ˆå¤šçš„æƒ…å†µä¸‹ã€‚</p><p>Logs play a crucial role in troubleshooting application issues. While we can use <code>console</code> to print logs, our logging requirements may be more diverse. For example, we may need to log not only to the console but also to files or use a dedicated logging platform. Additionally, we need to differentiate logs printed between different requests to facilitate debugging, especially in high-traffic scenarios.</p><p>åœ¨ä»»ä½•å¯ä»¥ä½¿ç”¨ context çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ loggerã€‚logger çš„ç”¨æ³•å‡ ä¹å’Œ console ä¸€æ ·ã€‚</p><p>In any place where context can be used, you can directly use logger. The usage of logger is almost the same as console.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰“å°ä¸€æ¡æ™®é€šçš„æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, Milkio!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ—¥å¿—çš„ç¬¬äºŒä¸ªåŠä¹‹åçš„å‚æ•°å¯ä»¥ç”¨æ¥æºå¸¦æ•°æ®ï¼Œè¿™æ ·æ—¥å¿—ä¼šæŠŠè¿™äº›æ•°æ®ä¹Ÿä¸€èµ·è®°å½•èµ·æ¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, Milkio!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { foo: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bar &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å’Œ console ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ debug, warn æˆ–è€… error æ¥è®°å½•ä¸åŒçº§åˆ«çš„æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è¿™é‡Œçš„è¿è¡Œå‡ºé”™äº† UwU&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Print a regular log</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, Milkio!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// The second and subsequent parameters of the log can be used to carry data, so the log will also record these data together</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, Milkio!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { foo: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bar &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Like console, you can also use debug or warn or error to record logs of different levels</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">context.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;An error occurred here UwU&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>useLogger</code> æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨ï¼Œæ­¤æ—¶éœ€è¦æä¾›ä¸€ä¸ª <code>executeId</code> å‚æ•°ã€‚è¯¥å‚æ•°æ¥è‡ªä½ çš„ API çš„<code>context</code>å¯¹è±¡ï¼Œå¹¶ä¸”æ˜¯å”¯ä¸€çš„ã€‚å¯¹äºæ¯ä¸ªè¯·æ±‚ï¼Œ<code>executeId</code>éƒ½æ˜¯ä¸åŒçš„ã€‚Milkio çš„æ—¥å¿—è®°å½•å™¨é€šè¿‡å®ƒä»¬æ¥åŒºåˆ†ä¸åŒçš„è¯·æ±‚ã€‚</p><p>Alternatively, you can use the <code>useLogger</code> method to create a logger, which requires providing an <code>executeId</code> parameter. This parameter comes from the <code>context</code> object of your API and is unique. For each request, the <code>executeId</code> is different. Milkio&#39;s loggers use them to differentiate between different requests.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.executeId);</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(context.executeId);</span></span></code></pre></div><p>åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æ— æ³•è·å–åˆ°<code>executeId</code>ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä¼ å…¥<code>global</code>ï¼Œæ—¥å¿—è®°å½•å™¨å°†å‘æ‰€æœ‰å¹¶å‘è¯·æ±‚åŒæ—¶å†™å…¥è¯¥æ—¥å¿—ã€‚</p><p>In some special cases, you may not be able to obtain the <code>executeId</code>. In such cases, you can pass in <code>global</code>, and the logger will write to the log simultaneously for all concurrent requests.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;global&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;global&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="æ—¥å¿—æ ‡ç­¾" tabindex="-1">æ—¥å¿—æ ‡ç­¾ <a class="header-anchor" href="#æ—¥å¿—æ ‡ç­¾" aria-label="Permalink to &quot;æ—¥å¿—æ ‡ç­¾&quot;">â€‹</a></h2><h2 id="log-tags" tabindex="-1">Log Tags <a class="header-anchor" href="#log-tags" aria-label="Permalink to &quot;Log Tags&quot;">â€‹</a></h2><p>é™¤äº†æ‰“å°æ—¥å¿—ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ä¸ºä¸€ä¸ªè¯·æ±‚æ‰“ä¸Šæ—¥å¿—æ ‡ç­¾ã€‚é€šè¿‡ <code>loggerPushTags</code> æ–¹æ³•ï¼Œå¯ä»¥ä¸ºæŸä¸ªè¯·æ±‚æ·»åŠ è‹¥å¹²è‡ªå®šä¹‰æ ‡ç­¾ã€‚</p><p>In addition to logging, you can also label a request with log tags. By using the <code>loggerPushTags</code> method, you can add multiple custom tags to a request.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { loggerPushTags } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Milkio&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loggerPushTags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(executeId, { userInfo: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, permissions: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { loggerPushTags } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Milkio&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loggerPushTags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(executeId, { userInfo: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, permissions: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><p>åœ¨ä»¥å¾€çš„æ—¥å¿—ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ç›´æ¥å°†è¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯ã€æƒé™ç­‰æ•°æ®è¾“å‡ºåˆ°æ—¥å¿—ä¸­ï¼Œè¿™æ ·ä¼šæ©ç›–äº†å…³é”®ä¿¡æ¯ã€‚åˆç†åœ°ä½¿ç”¨æ ‡ç­¾æœ‰åŠ©äºä½¿ä½ çš„æ—¥å¿—æ›´åŠ æ¸…æ™°æ˜“è¯»ï¼Œåªä¿ç•™å…³é”®ä¿¡æ¯ã€‚</p><p>In previous logs, we often directly output user information, permissions, and other data of the requests to the logs, which obscures critical information. Using labels appropriately helps make your logs clearer and easier to read, while retaining only the key information.</p><h2 id="å†…ç½®æ—¥å¿—æ ‡ç­¾" tabindex="-1">å†…ç½®æ—¥å¿—æ ‡ç­¾ <a class="header-anchor" href="#å†…ç½®æ—¥å¿—æ ‡ç­¾" aria-label="Permalink to &quot;å†…ç½®æ—¥å¿—æ ‡ç­¾&quot;">â€‹</a></h2><p>Built-in log tags</p><p>Milkio ä¼šè‡ªåŠ¨ä¸ºä½ çš„æ¯ä¸ªè¯·æ±‚æ·»åŠ ä¸€äº›æ—¥å¿—æ ‡ç­¾ã€‚ä»¥ä¸‹æ ‡ç­¾ä¼šè¢«ä½¿ç”¨ï¼š</p><p>Milkio will automatically add some logging labels to each of your requests. The following labels will be used:</p><table><thead><tr><th style="text-align:right;">é”®</th><th>å€¼</th></tr></thead><tbody><tr><td style="text-align:right;"><code>from</code></td><td>æ¥æº &quot;http-server&quot; | &quot;execute&quot;</td></tr><tr><td style="text-align:right;"><code>executeId</code></td><td>æ‰§è¡Œæ­¤è¯·æ±‚çš„å”¯ä¸€ id</td></tr><tr><td style="text-align:right;"><code>method</code></td><td>è¯·æ±‚æ–¹å¼</td></tr><tr><td style="text-align:right;"><code>ip</code></td><td>è¯·æ±‚å‘èµ·è€…çš„ IP åœ°å€</td></tr><tr><td style="text-align:right;"><code>url</code></td><td>è¯·æ±‚åœ°å€</td></tr><tr><td style="text-align:right;"><code>params</code></td><td>è¯·æ±‚çš„å‚æ•° (Object)</td></tr><tr><td style="text-align:right;"><code>body</code></td><td>æœ€ç»ˆå“åº”çš„æ•°æ® (Raw String)</td></tr><tr><td style="text-align:right;"><code>timein</code></td><td>æ¥æ”¶åˆ°è¯·æ±‚çš„æ—¶é—´ (Number)</td></tr><tr><td style="text-align:right;"><code>timeout</code></td><td>è¯·æ±‚å“åº”çš„æ—¶é—´ (Number)</td></tr><tr><td style="text-align:right;"><code>requestHeaders</code></td><td>è¯·æ±‚å¤´ (Object)</td></tr><tr><td style="text-align:right;"><code>responseHeaders</code></td><td>å“åº”å¤´ (Object)</td></tr></tbody></table><table><thead><tr><th style="text-align:right;">Key</th><th>Value</th></tr></thead><tbody><tr><td style="text-align:right;"><code>from</code></td><td>Source: &quot;http-server&quot; | &quot;execute&quot;</td></tr><tr><td style="text-align:right;"><code>executeId</code></td><td>Unique ID of the execution of this request</td></tr><tr><td style="text-align:right;"><code>method</code></td><td>Request method</td></tr><tr><td style="text-align:right;"><code>ip</code></td><td>IP address of the requester</td></tr><tr><td style="text-align:right;"><code>url</code></td><td>Request URL</td></tr><tr><td style="text-align:right;"><code>params</code></td><td>Request parameters (Object)</td></tr><tr><td style="text-align:right;"><code>body</code></td><td>Raw string of the final response</td></tr><tr><td style="text-align:right;"><code>timein</code></td><td>Time when the request was received (Number)</td></tr><tr><td style="text-align:right;"><code>timeout</code></td><td>Time for the request to respond (Number)</td></tr><tr><td style="text-align:right;"><code>requestHeaders</code></td><td>Request headers (Object)</td></tr><tr><td style="text-align:right;"><code>responseHeaders</code></td><td>Response headers (Object)</td></tr></tbody></table><p>æ³¨æ„ï¼Œä½ ä¸èƒ½å‡è®¾è¿™äº›æ—¥å¿—æ ‡ç­¾å§‹ç»ˆå­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œåœ¨æŸäº›æç«¯æƒ…å†µä¸‹ï¼Œè¯·æ±‚è¢«ç›´æ¥ç»ˆæ­¢æ—¶ï¼Œå¯èƒ½ä¸ä¼šæ·»åŠ <code>body</code>ã€<code>params</code>ã€<code>responseHeaders</code>ç­‰å†…å®¹ã€‚æ­¤å¤–ï¼Œå½“é€šè¿‡ç¼–å†™ <code>execute</code> ä»£ç è€Œä¸æ˜¯å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼è¿›è¡Œè°ƒç”¨æ—¶ï¼Œåƒ <code>ip</code> ç­‰æ•°æ®å°†ä¸å­˜åœ¨ï¼Œå¹¶ä¸”å¯èƒ½ä¼šè·å¾—å…¶ä»–ä¸€äº›å€¼ã€‚</p><p>Understood. Please note that these log labels may not always be present. For example, in certain extreme cases where a request is terminated directly, contents such as <code>body</code>, <code>params</code>, <code>responseHeaders</code>, etc. may not be added. Additionally, when calling via code using <code>execute</code> instead of sending an HTTP request, data like <code>ip</code> may not exist and other values may be obtained.</p><h2 id="è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨" tabindex="-1">è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨ <a class="header-anchor" href="#è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨" aria-label="Permalink to &quot;è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨&quot;">â€‹</a></h2><h2 id="custom-log-recorder" tabindex="-1">Custom log recorder <a class="header-anchor" href="#custom-log-recorder" aria-label="Permalink to &quot;Custom log recorder&quot;">â€‹</a></h2><p>ä½ å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±ä¿®æ”¹ <code>/src/logger.ts</code> æ¥è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨çš„è¡Œä¸ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ¹æ®ä»£ç ç¼–å†™ï¼Œä½ çš„æ—¥å¿—è®°å½•å™¨ä¼šç›´æ¥åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºæ—¥å¿—ã€‚</p><p>You are free to modify <code>/src/logger.ts</code> according to your needs to customize the behavior of the log recorder. By default, based on the code, your log recorder will display the logs directly in the console.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–‡ä»¶: /src/logger.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LoggerOptions, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ExecuteId } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Milkio&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> loggerOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onSubmit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">logs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`ğŸ¥› Milkio å“åº”ï¼æ¥è‡ª :`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tags.url);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tags));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onInsert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console[options.loggerLevel](options.description, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options.params);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">satisfies</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LoggerOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// file: /src/logger.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LoggerOptions, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ExecuteId } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Milkio&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> loggerOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onSubmit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">logs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`ğŸ¥› Milkio Responsed! by :`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tags.url);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tags));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onInsert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console[options.loggerLevel](options.description, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options.params);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">satisfies</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LoggerOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h3 id="onsubmit" tabindex="-1">onSubmit <a class="header-anchor" href="#onsubmit" aria-label="Permalink to &quot;onSubmit&quot;">â€‹</a></h3><h3 id="onsubmit-1" tabindex="-1">onSubmit <a class="header-anchor" href="#onsubmit-1" aria-label="Permalink to &quot;onSubmit&quot;">â€‹</a></h3><p><code>onSubmit</code> æ–¹æ³•ä¼šåœ¨ä¸€ä¸ªè¯·æ±‚å³å°†ç»“æŸæ—¶è¢«è°ƒç”¨ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æˆ–è¿”å›ä¸€ä¸ª<code>Promise</code>ã€‚ä½ å¯ä»¥åœ¨æ­¤é˜¶æ®µå°†ä¸è¯¥è¯·æ±‚ç›¸å…³çš„æ—¥å¿—æŒä¹…åŒ–ä¿å­˜ã€‚</p><p>The <code>onSubmit</code> method is called when a request is about to be completed. It can be an asynchronous method or return a <code>Promise</code>. You can use this stage to persistently save logs related to the request.</p><p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä½ ä¸ä»…å¯ä»¥è·å–è¯¥è¯·æ±‚ä¸­è®°å½•çš„æ‰€æœ‰å†å²æ—¥å¿—ï¼Œè¿˜å¯ä»¥è·å–è¯¥è¯·æ±‚ä¸Šæ‰“è¿‡çš„æ‰€æœ‰æ ‡ç­¾ã€‚</p><p>In this method, you can not only retrieve all the historical logs recorded in the request, but also retrieve all the tags that have been applied to the request.</p><h3 id="oninsert" tabindex="-1">onInsert <a class="header-anchor" href="#oninsert" aria-label="Permalink to &quot;onInsert&quot;">â€‹</a></h3><h3 id="oninsert-1" tabindex="-1">onInsert <a class="header-anchor" href="#oninsert-1" aria-label="Permalink to &quot;onInsert&quot;">â€‹</a></h3><p><code>onInsert</code> æ–¹æ³•æ˜¯ç”¨äºåœ¨æ¯æ¬¡è®°å½•æ—¥å¿—æ—¶è¢«è°ƒç”¨çš„ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ã€‚ä½ éœ€è¦è¿”å› <code>true</code> æˆ– <code>false</code>ã€‚å½“ä½ è¿”å› <code>false</code> æ—¶ï¼Œè¯¥æ—¥å¿—å°†è¢«ä¸¢å¼ƒã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥é€šè¿‡è¿”å› <code>false</code> æ¥å®ç°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸è®°å½• <code>debug</code> çº§åˆ«æ—¥å¿—çš„åŠŸèƒ½ã€‚</p><p>The <code>onInsert</code> method is called every time a log is recorded, and it must be a synchronous method. You need to return <code>true</code> or <code>false</code>. When you return <code>false</code>, the log will be discarded. For example, you can return <code>false</code> to disable logging of <code>debug</code> level logs in a production environment.</p><p>è¯·ä¸è¦åœ¨æ­¤æ–¹æ³•ä¸­è¿›è¡Œæ—¥å¿—çš„æŒä¹…åŒ–ä¿å­˜ï¼ˆä¾‹å¦‚å°†æ—¥å¿—å†™å…¥æ–‡ä»¶æˆ–å‘é€åˆ°å„ç§æ—¥å¿—ç³»ç»Ÿä¸­ï¼‰ã€‚ç”±äºæ¯æ¬¡è¯·æ±‚éƒ½å¯èƒ½éœ€è¦å†™å…¥å¤§é‡æ—¥å¿—ï¼Œè¿™å°†å¯¼è‡´é¢‘ç¹çš„ IO æ“ä½œï¼Œä»è€Œé™ä½æ€§èƒ½ã€‚</p><p>Please refrain from persistently saving logs in this method (such as writing logs to files or sending them to various logging systems). As each request may require a large amount of logging, this will result in frequent IO operations, leading to performance degradation.</p><!--]--></div></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-b77f9094><!--[--><!--]--><!----><nav class="prev-next" data-v-b77f9094><div class="pager" data-v-b77f9094><a class="VPLink link pager-link prev" href="/milkio/docs/essentials/config.html" data-v-b77f9094><!--[--><span class="desc" data-v-b77f9094>Previous page</span><span class="title" data-v-b77f9094>
              <span class="lang-en">Config</span>
              <span class="lang-zh">Config é…ç½®</span>
            </span><!--]--></a></div><div class="pager" data-v-b77f9094><a class="VPLink link pager-link next" href="/milkio/docs/client/get-started.html" data-v-b77f9094><!--[--><span class="desc" data-v-b77f9094>Next page</span><span class="title" data-v-b77f9094>
            <span class="lang-en">GetStarted</span>
            <span class="lang-zh">èµ·æ­¥</span>
            </span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"support.md\":\"DJBQAojz\",\"docs_client_middleware.md\":\"S7xLdJHk\",\"readme.md\":\"so0dFqdw\",\"docs_essentials_header.md\":\"DuIJreVX\",\"docs_essentials_api.md\":\"BkyiYTZy\",\"docs_generation-phase.md\":\"DMeEvVyX\",\"docs_essentials_bootstrap.md\":\"BZCIinXF\",\"docs_client_publish-client.md\":\"snsZkGAw\",\"docs_essentials_fail-handling.md\":\"BYZDt9dZ\",\"docs_client_get-started.md\":\"BOFtFGly\",\"docs_essentials_logger.md\":\"CT8ezQ3D\",\"docs_quick-start.md\":\"D_5xQ2LC\",\"docs_essentials_use.md\":\"BHdJGsht\",\"docs_essentials_router.md\":\"C0MQRPoD\",\"docs_essentials_config.md\":\"BOYByQCQ\",\"docs_extensions_drizzle.md\":\"CFv2akWM\",\"docs_essentials_api-test.md\":\"BFOrPVtv\",\"docs_essentials_meta.md\":\"_GsNtvn3\",\"docs_cookbook_get-started.md\":\"DIl1U9qj\",\"index.md\":\"DrbH8vgN\",\"docs_essentials_middleware.md\":\"D0CCQKe_\",\"docs_extensions_tson.md\":\"D2SOwJuJ\",\"docs_extensions_redis.md\":\"CtmigJTJ\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Milkio Docs\",\"description\":\"A human-centered Bun framework, developing APIs is now easy enough!\",\"base\":\"/milkio/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/southern-aurora/milkio\"}],\"nav\":[{\"text\":\"\\n          <span class=\\\"lang-en\\\">Sponsors</span>\\n          <span class=\\\"lang-zh\\\">æ”¯æŒè€…ä»¬</span>\\n        \",\"link\":\"/SUPPORT\"}],\"sidebar\":[{\"text\":\"\\n          <span class=\\\"lang-en\\\">Introduction</span>\\n          <span class=\\\"lang-zh\\\">ç®€ä»‹</span>\\n        \",\"link\":\"/\"},{\"text\":\"\\n          <span class=\\\"lang-en\\\">Quick Start</span>\\n          <span class=\\\"lang-zh\\\">å¿«é€Ÿå¼€å§‹</span>\\n        \",\"link\":\"/docs/quick-start\"},{\"text\":\"\\n          <span class=\\\"lang-en\\\">GenerationPhase</span>\\n          <span class=\\\"lang-zh\\\">ç”Ÿæˆé˜¶æ®µ</span>\\n        \",\"link\":\"/docs/generation-phase\"},{\"text\":\"\\n          <span class=\\\"lang-en\\\">Essentials</span>\\n          <span class=\\\"lang-zh\\\">åŸºç¡€åŠŸèƒ½</span>\\n        \",\"items\":[{\"text\":\"\\n              <span class=\\\"lang-en\\\">API</span>\\n              <span class=\\\"lang-zh\\\">API æ¥å£</span>\\n            \",\"link\":\"/docs/essentials/api\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">APITest</span>\\n              <span class=\\\"lang-zh\\\">APITest æ¥å£æµ‹è¯•</span>\\n            \",\"link\":\"/docs/essentials/api-test\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Router</span>\\n              <span class=\\\"lang-zh\\\">Router è·¯ç”±</span>\\n            \",\"link\":\"/docs/essentials/router\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Header</span>\\n              <span class=\\\"lang-zh\\\">Header å¤´éƒ¨</span>\\n            \",\"link\":\"/docs/essentials/header\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">FailureHandling</span>\\n              <span class=\\\"lang-zh\\\">FailureHandling å¤±è´¥å¤„ç†</span>\\n            \",\"link\":\"/docs/essentials/fail-handling\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Use</span>\\n              <span class=\\\"lang-zh\\\">Use ä½¿ç”¨</span>\\n            \",\"link\":\"/docs/essentials/use\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Bootstrap</span>\\n              <span class=\\\"lang-zh\\\">Bootstrap å¯åŠ¨é¡¹</span>\\n            \",\"link\":\"/docs/essentials/bootstrap\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Middleware</span>\\n              <span class=\\\"lang-zh\\\">Middleware ä¸­é—´ä»¶</span>\\n            \",\"link\":\"/docs/essentials/middleware\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Meta</span>\\n              <span class=\\\"lang-zh\\\">Meta å…ƒæ•°æ®</span>\\n            \",\"link\":\"/docs/essentials/meta\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Config</span>\\n              <span class=\\\"lang-zh\\\">Config é…ç½®</span>\\n            \",\"link\":\"/docs/essentials/config\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Logger</span>\\n              <span class=\\\"lang-zh\\\">Logger æ—¥å¿—</span>\\n            \",\"link\":\"/docs/essentials/logger\"}]},{\"text\":\"\\n          <span class=\\\"lang-en\\\">Client</span>\\n          <span class=\\\"lang-zh\\\">å®¢æˆ·ç«¯</span>\\n        \",\"items\":[{\"text\":\"\\n            <span class=\\\"lang-en\\\">GetStarted</span>\\n            <span class=\\\"lang-zh\\\">èµ·æ­¥</span>\\n            \",\"link\":\"/docs/client/get-started\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">Middleware</span>\\n              <span class=\\\"lang-zh\\\">Middleware ä¸­é—´ä»¶</span>\\n            \",\"link\":\"/docs/client/middleware\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">PublishClient</span>\\n              <span class=\\\"lang-zh\\\">å‘å¸ƒå®¢æˆ·ç«¯</span>\\n            \",\"link\":\"/docs/client/publish-client\"}]},{\"text\":\"Cookbook\",\"items\":[{\"text\":\"\\n            <span class=\\\"lang-en\\\">GetStarted</span>\\n            <span class=\\\"lang-zh\\\">èµ·æ­¥</span>\\n            \",\"link\":\"/docs/cookbook/get-started\"}]},{\"text\":\"\\n          <span class=\\\"lang-en\\\">Extensions</span>\\n          <span class=\\\"lang-zh\\\">æ‰©å±•</span>\\n        \",\"items\":[{\"text\":\"Drizzle\",\"link\":\"/docs/extensions/drizzle\"},{\"text\":\"Redis\",\"link\":\"/docs/extensions/redis\"},{\"text\":\"\\n              <span class=\\\"lang-en\\\">TSON</span>\\n              <span class=\\\"lang-zh\\\">TSON</span>\\n            \",\"link\":\"/docs/extensions/tson\"}]},{\"text\":\"VSCodeExtension\",\"items\":[{\"text\":\"\\n            <span class=\\\"lang-en\\\">Template</span>\\n            <span class=\\\"lang-zh\\\">Template æ¨¡æ¿</span>\\n            \",\"link\":\"/docs/quick-start.md\"}]},{\"text\":\"\\n          <span class=\\\"lang-en\\\">Document</span>\\n          <span class=\\\"lang-zh\\\">æ–‡æ¡£</span>\\n        \",\"items\":[{\"text\":\"\\n              <span class=\\\"lang-en\\\">Contribution</span>\\n              <span class=\\\"lang-zh\\\">è´¡çŒ®</span>\\n            \",\"link\":\"/README\"}]}],\"aside\":false,\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>