import{_ as l,c as t,J as a,w as n,E as h,o,m as s,a as i}from"./chunks/framework.B_Y9JRDA.js";const cs=JSON.parse('{"title":"Logger","description":"","frontmatter":{"title":"Logger"},"headers":[],"relativePath":"docs/essentials/logger.md","filePath":"docs/essentials/logger.md"}'),r={name:"docs/essentials/logger.md"},k=s("h1",{id:"logger",tabindex:"-1"},[i("Logger "),s("a",{class:"header-anchor",href:"#logger","aria-label":'Permalink to "Logger"'},"â€‹")],-1),d=s("h1",{id:"logger-1",tabindex:"-1"},[i("Logger "),s("a",{class:"header-anchor",href:"#logger-1","aria-label":'Permalink to "Logger"'},"â€‹")],-1),g=s("p",null,[i("æ—¥å¿—åœ¨åº”ç”¨çº¿ä¸Šé—®é¢˜æ’æŸ¥ä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),s("code",null,"console"),i(" æ‰“å°æ—¥å¿—ï¼Œä½†æˆ‘ä»¬çš„æ—¥å¿—éœ€æ±‚å¯èƒ½æ›´åŠ å¤šæ ·åŒ–ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å°†æ—¥å¿—ä¸åªæ˜¯æ‰“å°åœ¨æ§åˆ¶å°ä¸­ï¼Œè€Œæ˜¯å¯ä»¥è®°å½•ä¸ºæ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨ä¸“é—¨çš„æ—¥å¿—å¹³å°ã€‚ä»¥åŠï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸åŒè¯·æ±‚é—´æ‰“å°çš„æ—¥å¿—ä½œåŒºåˆ†æ¥æ–¹ä¾¿æˆ‘ä»¬æ’é”™ï¼Œå°¤å…¶æ˜¯åœ¨åŒæ—¶è®¿é—®äººæ•°å¾ˆå¤šçš„æƒ…å†µä¸‹ã€‚")],-1),p=s("p",null,[i("Logs play a crucial role in troubleshooting application issues. While we can use "),s("code",null,"console"),i(" to print logs, our logging requirements may be more diverse. For example, we may need to log not only to the console but also to files or use a dedicated logging platform. Additionally, we need to differentiate logs printed between different requests to facilitate debugging, especially in high-traffic scenarios.")],-1),c=s("p",null,"åœ¨ä»»ä½•å¯ä»¥ä½¿ç”¨ context çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ loggerã€‚logger çš„ç”¨æ³•å‡ ä¹å’Œ console ä¸€æ ·ã€‚",-1),u=s("p",null,"In any place where context can be used, you can directly use logger. The usage of logger is almost the same as console.",-1),E=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// æ‰“å°ä¸€æ¡æ™®é€šçš„æ—¥å¿—")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"context.logger."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'Hello, Milkio!'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// æ—¥å¿—çš„ç¬¬äºŒä¸ªåŠä¹‹åçš„å‚æ•°å¯ä»¥ç”¨æ¥æºå¸¦æ•°æ®ï¼Œè¿™æ ·æ—¥å¿—ä¼šæŠŠè¿™äº›æ•°æ®ä¹Ÿä¸€èµ·è®°å½•èµ·æ¥")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"context.logger."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'Hello, Milkio!'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", { foo: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'bar '"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// å’Œ console ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ debug, warn æˆ–è€… error æ¥è®°å½•ä¸åŒçº§åˆ«çš„æ—¥å¿—")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"context.logger."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"error"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'è¿™é‡Œçš„è¿è¡Œå‡ºé”™äº† UwU'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])])],-1),y=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// Print a regular log")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"context.logger."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'Hello, Milkio!'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// The second and subsequent parameters of the log can be used to carry data, so the log will also record these data together")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"context.logger."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'Hello, Milkio!'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", { foo: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'bar '"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// Like console, you can also use debug or warn or error to record logs of different levels")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"context.logger."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"error"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'An error occurred here UwU'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")])])])],-1),F=s("p",null,[i("æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ "),s("code",null,"useLogger"),i(" æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨ï¼Œæ­¤æ—¶éœ€è¦æä¾›ä¸€ä¸ª "),s("code",null,"executeId"),i(" å‚æ•°ã€‚è¯¥å‚æ•°æ¥è‡ªä½ çš„ API çš„"),s("code",null,"context"),i("å¯¹è±¡ï¼Œå¹¶ä¸”æ˜¯å”¯ä¸€çš„ã€‚å¯¹äºæ¯ä¸ªè¯·æ±‚ï¼Œ"),s("code",null,"executeId"),i("éƒ½æ˜¯ä¸åŒçš„ã€‚Milkio çš„æ—¥å¿—è®°å½•å™¨é€šè¿‡å®ƒä»¬æ¥åŒºåˆ†ä¸åŒçš„è¯·æ±‚ã€‚")],-1),m=s("p",null,[i("Alternatively, you can use the "),s("code",null,"useLogger"),i(" method to create a logger, which requires providing an "),s("code",null,"executeId"),i(" parameter. This parameter comes from the "),s("code",null,"context"),i(" object of your API and is unique. For each request, the "),s("code",null,"executeId"),i(" is different. Milkio's loggers use them to differentiate between different requests.")],-1),b=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," logger"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," useLogger"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(context.executeId);")])])])],-1),_=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," logger"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," useLogger"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(context.executeId);")])])])],-1),f=s("p",null,[i("åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æ— æ³•è·å–åˆ°"),s("code",null,"executeId"),i("ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä¼ å…¥"),s("code",null,"global"),i("ï¼Œæ—¥å¿—è®°å½•å™¨å°†å‘æ‰€æœ‰å¹¶å‘è¯·æ±‚åŒæ—¶å†™å…¥è¯¥æ—¥å¿—ã€‚")],-1),C=s("p",null,[i("In some special cases, you may not be able to obtain the "),s("code",null,"executeId"),i(". In such cases, you can pass in "),s("code",null,"global"),i(", and the logger will write to the log simultaneously for all concurrent requests.")],-1),x=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," logger"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," useLogger"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"global"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")])])])],-1),A=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," logger"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," useLogger"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"global"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")])])])],-1),v=s("h2",{id:"æ—¥å¿—æ ‡ç­¾",tabindex:"-1"},[i("æ—¥å¿—æ ‡ç­¾ "),s("a",{class:"header-anchor",href:"#æ—¥å¿—æ ‡ç­¾","aria-label":'Permalink to "æ—¥å¿—æ ‡ç­¾"'},"â€‹")],-1),B=s("h2",{id:"log-tags",tabindex:"-1"},[i("Log Tags "),s("a",{class:"header-anchor",href:"#log-tags","aria-label":'Permalink to "Log Tags"'},"â€‹")],-1),D=s("p",null,[i("é™¤äº†æ‰“å°æ—¥å¿—ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ä¸ºä¸€ä¸ªè¯·æ±‚æ‰“ä¸Šæ—¥å¿—æ ‡ç­¾ã€‚é€šè¿‡ "),s("code",null,"loggerPushTags"),i(" æ–¹æ³•ï¼Œå¯ä»¥ä¸ºæŸä¸ªè¯·æ±‚æ·»åŠ è‹¥å¹²è‡ªå®šä¹‰æ ‡ç­¾ã€‚")],-1),I=s("p",null,[i("In addition to logging, you can also label a request with log tags. By using the "),s("code",null,"loggerPushTags"),i(" method, you can add multiple custom tags to a request.")],-1),w=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { loggerPushTags } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Milkio"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"loggerPushTags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(executeId, { userInfo: "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"..."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", permissions: "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"..."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," });")])])])],-1),q=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { loggerPushTags } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Milkio"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"loggerPushTags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(executeId, { userInfo: "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"..."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", permissions: "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"..."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," });")])])])],-1),P=s("p",null,"åœ¨ä»¥å¾€çš„æ—¥å¿—ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ç›´æ¥å°†è¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯ã€æƒé™ç­‰æ•°æ®è¾“å‡ºåˆ°æ—¥å¿—ä¸­ï¼Œè¿™æ ·ä¼šæ©ç›–äº†å…³é”®ä¿¡æ¯ã€‚åˆç†åœ°ä½¿ç”¨æ ‡ç­¾æœ‰åŠ©äºä½¿ä½ çš„æ—¥å¿—æ›´åŠ æ¸…æ™°æ˜“è¯»ï¼Œåªä¿ç•™å…³é”®ä¿¡æ¯ã€‚",-1),L=s("p",null,"In previous logs, we often directly output user information, permissions, and other data of the requests to the logs, which obscures critical information. Using labels appropriately helps make your logs clearer and easier to read, while retaining only the key information.",-1),T=s("h2",{id:"å†…ç½®æ—¥å¿—æ ‡ç­¾",tabindex:"-1"},[i("å†…ç½®æ—¥å¿—æ ‡ç­¾ "),s("a",{class:"header-anchor",href:"#å†…ç½®æ—¥å¿—æ ‡ç­¾","aria-label":'Permalink to "å†…ç½®æ—¥å¿—æ ‡ç­¾"'},"â€‹")],-1),O=s("p",null,"Built-in log tags",-1),M=s("p",null,"Milkio ä¼šè‡ªåŠ¨ä¸ºä½ çš„æ¯ä¸ªè¯·æ±‚æ·»åŠ ä¸€äº›æ—¥å¿—æ ‡ç­¾ã€‚ä»¥ä¸‹æ ‡ç­¾ä¼šè¢«ä½¿ç”¨ï¼š",-1),S=s("p",null,"Milkio will automatically add some logging labels to each of your requests. The following labels will be used:",-1),H=s("table",null,[s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"right"}},"é”®"),s("th",null,"å€¼")])]),s("tbody",null,[s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"from")]),s("td",null,'æ¥æº "http-server" | "execute"')]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"executeId")]),s("td",null,"æ‰§è¡Œæ­¤è¯·æ±‚çš„å”¯ä¸€ id")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"method")]),s("td",null,"è¯·æ±‚æ–¹å¼")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"ip")]),s("td",null,"è¯·æ±‚å‘èµ·è€…çš„ IP åœ°å€")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"url")]),s("td",null,"è¯·æ±‚åœ°å€")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"params")]),s("td",null,"è¯·æ±‚çš„å‚æ•° (Object)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"body")]),s("td",null,"æœ€ç»ˆå“åº”çš„æ•°æ® (Raw String)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"timein")]),s("td",null,"æ¥æ”¶åˆ°è¯·æ±‚çš„æ—¶é—´ (Number)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"timeout")]),s("td",null,"è¯·æ±‚å“åº”çš„æ—¶é—´ (Number)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"requestHeaders")]),s("td",null,"è¯·æ±‚å¤´ (Object)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"responseHeaders")]),s("td",null,"å“åº”å¤´ (Object)")])])],-1),N=s("table",null,[s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"right"}},"Key"),s("th",null,"Value")])]),s("tbody",null,[s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"from")]),s("td",null,'Source: "http-server" | "execute"')]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"executeId")]),s("td",null,"Unique ID of the execution of this request")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"method")]),s("td",null,"Request method")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"ip")]),s("td",null,"IP address of the requester")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"url")]),s("td",null,"Request URL")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"params")]),s("td",null,"Request parameters (Object)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"body")]),s("td",null,"Raw string of the final response")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"timein")]),s("td",null,"Time when the request was received (Number)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"timeout")]),s("td",null,"Time for the request to respond (Number)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"requestHeaders")]),s("td",null,"Request headers (Object)")]),s("tr",null,[s("td",{style:{"text-align":"right"}},[s("code",null,"responseHeaders")]),s("td",null,"Response headers (Object)")])])],-1),R=s("p",null,[i("æ³¨æ„ï¼Œä½ ä¸èƒ½å‡è®¾è¿™äº›æ—¥å¿—æ ‡ç­¾å§‹ç»ˆå­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œåœ¨æŸäº›æç«¯æƒ…å†µä¸‹ï¼Œè¯·æ±‚è¢«ç›´æ¥ç»ˆæ­¢æ—¶ï¼Œå¯èƒ½ä¸ä¼šæ·»åŠ "),s("code",null,"body"),i("ã€"),s("code",null,"params"),i("ã€"),s("code",null,"responseHeaders"),i("ç­‰å†…å®¹ã€‚æ­¤å¤–ï¼Œå½“é€šè¿‡ç¼–å†™ "),s("code",null,"execute"),i(" ä»£ç è€Œä¸æ˜¯å‘é€ HTTP è¯·æ±‚çš„æ–¹å¼è¿›è¡Œè°ƒç”¨æ—¶ï¼Œåƒ "),s("code",null,"ip"),i(" ç­‰æ•°æ®å°†ä¸å­˜åœ¨ï¼Œå¹¶ä¸”å¯èƒ½ä¼šè·å¾—å…¶ä»–ä¸€äº›å€¼ã€‚")],-1),U=s("p",null,[i("Understood. Please note that these log labels may not always be present. For example, in certain extreme cases where a request is terminated directly, contents such as "),s("code",null,"body"),i(", "),s("code",null,"params"),i(", "),s("code",null,"responseHeaders"),i(", etc. may not be added. Additionally, when calling via code using "),s("code",null,"execute"),i(" instead of sending an HTTP request, data like "),s("code",null,"ip"),i(" may not exist and other values may be obtained.")],-1),j=s("h2",{id:"è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨",tabindex:"-1"},[i("è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨ "),s("a",{class:"header-anchor",href:"#è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨","aria-label":'Permalink to "è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨"'},"â€‹")],-1),J=s("h2",{id:"custom-log-recorder",tabindex:"-1"},[i("Custom log recorder "),s("a",{class:"header-anchor",href:"#custom-log-recorder","aria-label":'Permalink to "Custom log recorder"'},"â€‹")],-1),V=s("p",null,[i("ä½ å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±ä¿®æ”¹ "),s("code",null,"/src/logger.ts"),i(" æ¥è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨çš„è¡Œä¸ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ¹æ®ä»£ç ç¼–å†™ï¼Œä½ çš„æ—¥å¿—è®°å½•å™¨ä¼šç›´æ¥åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºæ—¥å¿—ã€‚")],-1),$=s("p",null,[i("You are free to modify "),s("code",null,"/src/logger.ts"),i(" according to your needs to customize the behavior of the log recorder. By default, based on the code, your log recorder will display the logs directly in the console.")],-1),Y=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// æ–‡ä»¶: /src/logger.ts")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"type"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," LoggerOptions, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"type"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ExecuteId } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Milkio"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," loggerOptions"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  onSubmit"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"logs"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    console."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`ğŸ¥› Milkio å“åº”ï¼æ¥è‡ª :`"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", tags.url);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    console."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"JSON"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"stringify"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(tags));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  onInsert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"options"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    console[options.loggerLevel](options.description, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"..."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"options.params);")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    return"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"} "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"satisfies"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," LoggerOptions"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])])],-1),W=s("div",{class:"language-ts vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// file: /src/logger.ts")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"type"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," LoggerOptions, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"type"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ExecuteId } "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Milkio"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," loggerOptions"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  onSubmit"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"tags"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"logs"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    console."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`ğŸ¥› Milkio Responsed! by :`"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", tags.url);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    console."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"log"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"JSON"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"stringify"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(tags));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  onInsert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"options"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    console[options.loggerLevel](options.description, "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"..."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"options.params);")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    return"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"} "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"satisfies"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," LoggerOptions"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])])],-1),z=s("h3",{id:"onsubmit",tabindex:"-1"},[i("onSubmit "),s("a",{class:"header-anchor",href:"#onsubmit","aria-label":'Permalink to "onSubmit"'},"â€‹")],-1),K=s("h3",{id:"onsubmit-1",tabindex:"-1"},[i("onSubmit "),s("a",{class:"header-anchor",href:"#onsubmit-1","aria-label":'Permalink to "onSubmit"'},"â€‹")],-1),G=s("p",null,[s("code",null,"onSubmit"),i(" æ–¹æ³•ä¼šåœ¨ä¸€ä¸ªè¯·æ±‚å³å°†ç»“æŸæ—¶è¢«è°ƒç”¨ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æˆ–è¿”å›ä¸€ä¸ª"),s("code",null,"Promise"),i("ã€‚ä½ å¯ä»¥åœ¨æ­¤é˜¶æ®µå°†ä¸è¯¥è¯·æ±‚ç›¸å…³çš„æ—¥å¿—æŒä¹…åŒ–ä¿å­˜ã€‚")],-1),Q=s("p",null,[i("The "),s("code",null,"onSubmit"),i(" method is called when a request is about to be completed. It can be an asynchronous method or return a "),s("code",null,"Promise"),i(". You can use this stage to persistently save logs related to the request.")],-1),X=s("p",null,"åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä½ ä¸ä»…å¯ä»¥è·å–è¯¥è¯·æ±‚ä¸­è®°å½•çš„æ‰€æœ‰å†å²æ—¥å¿—ï¼Œè¿˜å¯ä»¥è·å–è¯¥è¯·æ±‚ä¸Šæ‰“è¿‡çš„æ‰€æœ‰æ ‡ç­¾ã€‚",-1),Z=s("p",null,"In this method, you can not only retrieve all the historical logs recorded in the request, but also retrieve all the tags that have been applied to the request.",-1),ss=s("h3",{id:"oninsert",tabindex:"-1"},[i("onInsert "),s("a",{class:"header-anchor",href:"#oninsert","aria-label":'Permalink to "onInsert"'},"â€‹")],-1),is=s("h3",{id:"oninsert-1",tabindex:"-1"},[i("onInsert "),s("a",{class:"header-anchor",href:"#oninsert-1","aria-label":'Permalink to "onInsert"'},"â€‹")],-1),es=s("p",null,[s("code",null,"onInsert"),i(" æ–¹æ³•æ˜¯ç”¨äºåœ¨æ¯æ¬¡è®°å½•æ—¥å¿—æ—¶è¢«è°ƒç”¨çš„ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ã€‚ä½ éœ€è¦è¿”å› "),s("code",null,"true"),i(" æˆ– "),s("code",null,"false"),i("ã€‚å½“ä½ è¿”å› "),s("code",null,"false"),i(" æ—¶ï¼Œè¯¥æ—¥å¿—å°†è¢«ä¸¢å¼ƒã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥é€šè¿‡è¿”å› "),s("code",null,"false"),i(" æ¥å®ç°åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸è®°å½• "),s("code",null,"debug"),i(" çº§åˆ«æ—¥å¿—çš„åŠŸèƒ½ã€‚")],-1),ls=s("p",null,[i("The "),s("code",null,"onInsert"),i(" method is called every time a log is recorded, and it must be a synchronous method. You need to return "),s("code",null,"true"),i(" or "),s("code",null,"false"),i(". When you return "),s("code",null,"false"),i(", the log will be discarded. For example, you can return "),s("code",null,"false"),i(" to disable logging of "),s("code",null,"debug"),i(" level logs in a production environment.")],-1),ts=s("p",null,"è¯·ä¸è¦åœ¨æ­¤æ–¹æ³•ä¸­è¿›è¡Œæ—¥å¿—çš„æŒä¹…åŒ–ä¿å­˜ï¼ˆä¾‹å¦‚å°†æ—¥å¿—å†™å…¥æ–‡ä»¶æˆ–å‘é€åˆ°å„ç§æ—¥å¿—ç³»ç»Ÿä¸­ï¼‰ã€‚ç”±äºæ¯æ¬¡è¯·æ±‚éƒ½å¯èƒ½éœ€è¦å†™å…¥å¤§é‡æ—¥å¿—ï¼Œè¿™å°†å¯¼è‡´é¢‘ç¹çš„ IO æ“ä½œï¼Œä»è€Œé™ä½æ€§èƒ½ã€‚",-1),as=s("p",null,"Please refrain from persistently saving logs in this method (such as writing logs to files or sending them to various logging systems). As each request may require a large amount of logging, this will result in frequent IO operations, leading to performance degradation.",-1);function ns(hs,os,rs,ks,ds,gs){const e=h("I18N");return o(),t("div",null,[a(e,null,{default:n(()=>[k,d,g,p,c,u,E,y,F,m,b,_,f,C,x,A,v,B,D,I,w,q,P,L,T,O,M,S,H,N,R,U,j,J,V,$,Y,W,z,K,G,Q,X,Z,ss,is,es,ls,ts,as]),_:1})])}const us=l(r,[["render",ns]]);export{cs as __pageData,us as default};
